<!doctype html>

<html lang="ar" dir="rtl">

<head>

<meta charset="utf-8" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<title>Digital Business Card</title>

<meta name="robots" content="noindex,nofollow,noarchive" />

<style>

 Â :root{

 Â Â Â --ink:#002b5c;

 Â Â Â --muted:#6b7a90;

 Â Â Â --blue-1:#e6f3ff;

 Â Â Â --blue-2:#b3daff;

 Â Â Â --blue-3:#0073e6;

 Â }



 Â body{

 Â Â Â margin:0;

 Â Â Â font-family: system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,"Dubai","Cairo",sans-serif;

 Â Â Â background:url("https://cdnp.flypgs.com/files/Sehirler-long-tail/Sharjah/sharjah-gezi-rehberi.jpg") no-repeat center center fixed;

 Â Â Â background-size:cover;

 Â }



 Â .wrap{max-width:460px;margin:0 auto;padding:18px}

 Â .card{

 Â Â Â background:#fff;

 Â Â Â border-radius:18px;

 Â Â Â padding:22px 18px 26px;

 Â Â Â border:1px solid #e5e5e5;

 Â Â Â box-shadow:0 12px 28px rgba(0,0,0,.18);

 Â Â Â min-height:200px;

 Â Â Â position:relative;

 Â }



 Â /* Top-right action buttons */

 Â .actions{

 Â Â Â position:absolute; top:10px; right:10px; display:flex; gap:8px;

 Â }

 Â [dir="rtl"] .actions{ right:10px; left:auto }

 Â [dir="ltr"] .actions{ left:10px; right:auto }

 Â .act-btn{

 Â Â Â border:1px solid #dcdcdc; background:#f6f6f6; border-radius:10px;

 Â Â Â width:42px; height:36px; display:grid; place-items:center;

 Â Â Â cursor:pointer; box-shadow:0 2px 6px rgba(0,0,0,.08);

 Â }

 Â .act-btn:hover{ background:#ededed }

 Â .act-btn span{font-size:18px; line-height:1}



 Â /* Logo â€“ square */

 Â .logo-wrap{width:170px;height:170px;margin:0 auto 10px;display:grid;place-items:center}

 Â .logo{width:170px;height:170px;border-radius:0;overflow:hidden}

 Â .logo img{width:100%;height:100%;object-fit:contain;display:block;background:transparent}



 Â .name{ text-align:center; font-size:30px; font-weight:900; margin:10px 8px 6px; color:var(--ink); }

 Â .designation{ text-align:center; font-weight:700; color:#00509e; margin-bottom:12px }



 Â .dash{margin:8px auto 14px; width:100%; height:1px; background:#eee}



 Â /* Buttons */

 Â .list{display:grid; gap:12px}

 Â .btn{

 Â Â Â display:flex; align-items:center; gap:12px;

 Â Â Â padding:12px 14px;

 Â Â Â border-radius:12px;

 Â Â Â background:var(--blue-1);

 Â Â Â border:1px solid var(--blue-2);

 Â Â Â text-decoration:none;

 Â Â Â color:var(--ink);

 Â Â Â transition:background .15s, transform .12s;

 Â }

 Â .btn:hover{ background:#d4ebff; transform:translateY(-1px); }



 Â .ico{

 Â Â Â width:36px;height:36px;display:grid;place-items:center;flex-shrink:0;

 Â Â Â background:#fff;border:1px solid var(--blue-2);border-radius:10px;

 Â Â Â font-size:18px;line-height:1;

 Â }



 Â .meta{flex:1;display:flex;flex-direction:column}

 Â .meta .lbl{font-size:13px;font-weight:700;color:#0059b3}

 Â .meta .val{font-size:16px;font-weight:800;color:var(--ink)}



 Â /* Direction-aware flow */

 Â [dir="rtl"] .btn{flex-direction:row-reverse}

 Â [dir="rtl"] .meta{text-align:right}

 Â [dir="ltr"] .meta{text-align:left}



 Â .note{margin-top:14px;text-align:center;font-size:12px;color:#777}



 Â /* Error message */

 Â .error{ text-align:center; padding:30px 12px; color:#b00020; font-weight:800; }



 Â /* QR Modal */

 Â .modal{ position:fixed; inset:0; background:rgba(0,0,0,.55); display:none; align-items:center; justify-content:center; padding:16px; }

 Â .modal .box{ background:#fff; border-radius:14px; padding:16px; width:min(92vw,420px); text-align:center; }

 Â .qr-wrap{ display:grid; place-items:center; padding:10px; }

 Â .qr-actions{ display:flex; gap:10px; justify-content:center; flex-wrap:wrap; margin-top:10px }

 Â .btn2{ padding:10px 14px; border-radius:10px; border:1px solid #dcdcdc; background:#f6f6f6; cursor:pointer }

 Â .btn2:hover{ background:#ededed }

</style>

</head>

<body>

 Â <div class="wrap">

 Â Â Â <div class="card" id="card">

 Â Â Â Â Â <!-- Action buttons -->

 Â Â Â Â Â <div class="actions" id="actions" style="display:none">

 Â Â Â Â Â Â Â <button class="act-btn" id="saveVcfBtn" title="Save vCard"><span>ğŸ‘¤â•</span></button>

 Â Â Â Â Â Â Â <button class="act-btn" id="shareQrBtn" title="Share as QR"><span>ğŸ”—</span></button>

 Â Â Â Â Â </div>



 Â Â Â Â Â <!-- Fixed logo file -->

 Â Â Â Â Â <div class="logo-wrap">

 Â Â Â Â Â Â Â <div class="logo"><img src="Logo.png" alt="Logo"></div>

 Â Â Â Â Â </div>



 Â Â Â Â Â <!-- Name / Title -->

 Â Â Â Â Â <div class="name" id="name">Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§</div>

 Â Â Â Â Â <div class="designation" id="designation">Ù…Ø³Ù…Ù‘Ø§Ùƒ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ</div>

 Â Â Â Â Â <div class="dash"></div>



 Â Â Â Â Â <!-- Contact Buttons -->

 Â Â Â Â Â <div class="list">

 Â Â Â Â Â Â Â <a class="btn" id="btnPhone" href="#">

 Â Â Â Â Â Â Â Â Â <div class="ico">ğŸ“</div>

 Â Â Â Â Â Â Â Â Â <div class="meta">

 Â Â Â Â Â Â Â Â Â Â Â <div class="lbl" id="lblPhone">Ø§Ù„Ù‡Ø§ØªÙ</div>

 Â Â Â Â Â Â Â Â Â Â Â <div class="val" id="phoneText">+971 XX XXX XXXX</div>

 Â Â Â Â Â Â Â Â Â </div>

 Â Â Â Â Â Â Â </a>



 Â Â Â Â Â Â Â <a class="btn" id="btnSite" href="#" target="_blank" rel="noopener">

 Â Â Â Â Â Â Â Â Â <div class="ico">ğŸŒ</div>

 Â Â Â Â Â Â Â Â Â <div class="meta">

 Â Â Â Â Â Â Â Â Â Â Â <div class="lbl" id="lblSite">Ø§Ù„Ù…ÙˆÙ‚Ø¹</div>

 Â Â Â Â Â Â Â Â Â Â Â <div class="val" id="siteText">example.com</div>

 Â Â Â Â Â Â Â Â Â </div>

 Â Â Â Â Â Â Â </a>



 Â Â Â Â Â Â Â <a class="btn" id="btnEmail" href="#">

 Â Â Â Â Â Â Â Â Â <div class="ico">âœ‰ï¸</div>

 Â Â Â Â Â Â Â Â Â <div class="meta">

 Â Â Â Â Â Â Â Â Â Â Â <div class="lbl" id="lblEmail">Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</div>

 Â Â Â Â Â Â Â Â Â Â Â <div class="val" id="emailText">info@example.com</div>

 Â Â Â Â Â Â Â Â Â </div>

 Â Â Â Â Â Â Â </a>



 Â Â Â Â Â Â Â <a class="btn" id="btnMap" href="https://maps.app.goo.gl/ZifwVaEtYV7Ynay79" target="_blank" rel="noopener">

 Â Â Â Â Â Â Â Â Â <div class="ico">ğŸ“</div>

 Â Â Â Â Â Â Â Â Â <div class="meta"><div class="val" id="lblOpenMap">Ø§ÙØªØ­ Ø§Ù„Ø®Ø±ÙŠØ·Ø©</div></div>

 Â Â Â Â Â Â Â </a>

 Â Â Â Â Â </div>



 Â Â Â Â Â <div class="note" id="note">Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ ØµÙ Ù„Ø§ØªØ®Ø§Ø° Ø¥Ø¬Ø±Ø§Ø¡ (Ø§ØªØµØ§Ù„ / Ø²ÙŠØ§Ø±Ø© / Ø¨Ø±ÙŠØ¯ / Ø®Ø±ÙŠØ·Ø©)</div>

 Â Â Â </div>

 Â </div>



 Â <!-- QR Modal -->

 Â <div class="modal" id="qrModal" aria-hidden="true">

 Â Â Â <div class="box">

 Â Â Â Â Â <div style="font-weight:800; margin-bottom:6px" id="qrTitle">Ø´Ø§Ø±Ùƒ ÙƒØ±ÙÙ…Ø² QR</div>

 Â Â Â Â Â <div class="qr-wrap"><div id="qrcode"></div></div>

 Â Â Â Â Â <div class="qr-actions">

 Â Â Â Â Â Â Â <button class="btn2" id="copyLinkBtn">Copy Link</button>

 Â Â Â Â Â Â Â <button class="btn2" id="nativeShareBtn">Share</button>

 Â Â Â Â Â Â Â <button class="btn2" id="downloadQrBtn">Download PNG</button>

 Â Â Â Â Â Â Â <button class="btn2" id="closeQrBtn">Close</button>

 Â Â Â Â Â </div>

 Â Â Â </div>

 Â </div>



<!-- QR code lib -->

<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>



<script>

 Â // --- Params ---

 Â const qsÂ Â Â = new URLSearchParams(location.search);

 Â const lang = qs.get('lang') === 'en' ? 'en' : 'ar';Â Â Â // default Arabic

 Â const idÂ Â Â = qs.get('id') || "";Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â // ONLY ?id= (GUID ya Emp1)



 Â // --- Helpers ---

 Â const $ = (id)=>document.getElementById(id);

 Â const setText = (id,val)=>{ const el=$(id); if(el) el.textContent = val || 'â€”'; };



 Â function showError(msg){

 Â Â Â const card = $('card');

 Â Â Â card.innerHTML = `<div class="error">${msg}</div>`;

 Â }



 Â // Always load from employees/ folder

 Â function buildEmployeesPath(id){

 Â Â Â if(!id) return null;

 Â Â Â const hasJson = /\.json$/i.test(id);

 Â Â Â return `employees/${hasJson ? id : (id + '.json')}`;

 Â }



 Â function localizeLabels(){

 Â Â Â if(lang === 'en'){

 Â Â Â Â Â document.documentElement.lang = 'en';

 Â Â Â Â Â document.documentElement.dirÂ Â = 'ltr';

 Â Â Â Â Â setText('lblPhone','Phone');

 Â Â Â Â Â setText('lblSite','Website');

 Â Â Â Â Â setText('lblEmail','Email');

 Â Â Â Â Â setText('lblOpenMap','Open Map');

 Â Â Â Â Â setText('note','Tap any row to take action (Call / Visit / Email / Map)');

 Â Â Â Â Â $('saveVcfBtn')?.setAttribute('title','Save vCard');

 Â Â Â Â Â $('shareQrBtn')?.setAttribute('title','Share as QR');

 Â Â Â Â Â $('qrTitle').textContent = 'Share as QR';

 Â Â Â Â Â $('copyLinkBtn').textContent = 'Copy Link';

 Â Â Â Â Â $('nativeShareBtn').textContent = 'Share';

 Â Â Â Â Â $('downloadQrBtn').textContent = 'Download PNG';

 Â Â Â Â Â $('closeQrBtn').textContent = 'Close';

 Â Â Â }else{

 Â Â Â Â Â document.documentElement.lang = 'ar';

 Â Â Â Â Â document.documentElement.dirÂ Â = 'rtl';

 Â Â Â Â Â setText('lblPhone','Ø§Ù„Ù‡Ø§ØªÙ');

 Â Â Â Â Â setText('lblSite','Ø§Ù„Ù…ÙˆÙ‚Ø¹');

 Â Â Â Â Â setText('lblEmail','Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ');

 Â Â Â Â Â setText('lblOpenMap','Ø§ÙØªØ­ Ø§Ù„Ø®Ø±ÙŠØ·Ø©');

 Â Â Â Â Â setText('note','Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø£ÙŠ ØµÙ Ù„Ø§ØªØ®Ø§Ø° Ø¥Ø¬Ø±Ø§Ø¡ (Ø§ØªØµØ§Ù„ / Ø²ÙŠØ§Ø±Ø© / Ø¨Ø±ÙŠØ¯ / Ø®Ø±ÙŠØ·Ø©)');

 Â Â Â Â Â $('saveVcfBtn')?.setAttribute('title','Ø­ÙØ¸ Ø¨Ø·Ø§Ù‚Ø©');

 Â Â Â Â Â $('shareQrBtn')?.setAttribute('title','Ù…Ø´Ø§Ø±ÙƒØ© QR');

 Â Â Â Â Â $('qrTitle').textContent = 'Ø´Ø§Ø±Ùƒ ÙƒØ±ÙÙ…Ø² QR';

 Â Â Â Â Â $('copyLinkBtn').textContent = 'Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·';

 Â Â Â Â Â $('nativeShareBtn').textContent = 'Ù…Ø´Ø§Ø±ÙƒØ©';

 Â Â Â Â Â $('downloadQrBtn').textContent = 'ØªÙ†Ø²ÙŠÙ„ PNG';

 Â Â Â Â Â $('closeQrBtn').textContent = 'Ø¥ØºÙ„Ø§Ù‚';

 Â Â Â }

 Â }



 Â function setSiteLink(el, href){

 Â Â Â if(!href){ el.removeAttribute('href'); el.href='#'; $('siteText').textContent='â€”'; return; }

 Â Â Â try{ const u = new URL(href); el.href = href; $('siteText').textContent = u.host; }

 Â Â Â catch{ el.href = href; $('siteText').textContent = href; }

 Â }



 Â async function fetchJSON(path){

 Â Â Â const r = await fetch(path, { cache:'no-store' });

 Â Â Â if(!r.ok) throw new Error('Not found');

 Â Â Â return r.json();

 Â }



 Â let currentEmp = null;



 Â function bind(emp){

 Â Â Â currentEmp = emp;

 Â Â Â const nameÂ Â = emp.nameAr || emp.name || 'Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§';

 Â Â Â const title = emp.titleAr || emp.title || 'Ù…Ø³Ù…Ù‘Ø§Ùƒ Ø§Ù„ÙˆØ¸ÙŠÙÙŠ';

 Â Â Â const phone = emp.phone1 || emp.phone || emp.mobile || '+971 XX XXX XXXX';

 Â Â Â const siteÂ Â = emp.site || emp.website || '#';

 Â Â Â const email = emp.email || 'info@example.com';



 Â Â Â setText('name', name);

 Â Â Â setText('designation', title);

 Â Â Â setText('phoneText', phone);

 Â Â Â setText('emailText', email);



 Â Â Â $('btnPhone').href = phone ? `tel:${phone}` : '#';

 Â Â Â $('btnEmail').href = email ? `mailto:${email}` : '#';

 Â Â Â setSiteLink($('btnSite'), site);



 Â Â Â // show actions now that data is valid

 Â Â Â $('actions').style.display = 'flex';

 Â }



 Â // vCard builder + download

 Â function buildVCard(emp){

 Â Â Â const name = (emp.nameEn || emp.nameAr || emp.name || '').replace(/\r?\n/g,' ').trim();

 Â Â Â const title = (emp.titleAr || emp.title || '').replace(/\r?\n/g,' ').trim();

 Â Â Â const phone = emp.phone1 || emp.phone || '';

 Â Â Â const email = emp.email || '';

 Â Â Â const siteÂ Â = emp.site || emp.website || '';

 Â Â Â const lines = [

 Â Â Â Â Â 'BEGIN:VCARD',

 Â Â Â Â Â 'VERSION=3.0',

 Â Â Â Â Â `FN:${name}`,

 Â Â Â Â Â title ? `TITLE:${title}` : '',

 Â Â Â Â Â phone ? `TEL;TYPE=CELL:${phone}` : '',

 Â Â Â Â Â email ? `EMAIL;TYPE=INTERNET:${email}` : '',

 Â Â Â Â Â siteÂ Â ? `URL:${site}` : '',

 Â Â Â Â Â 'END:VCARD'

 Â Â Â ].filter(Boolean);

 Â Â Â return lines.join('\n');

 Â }

 Â function downloadVcf(){

 Â Â Â if(!currentEmp) return;

 Â Â Â const vcf = buildVCard(currentEmp);

 Â Â Â const blob = new Blob([vcf], {type:'text/vcard;charset=utf-8'});

 Â Â Â const a = document.createElement('a');

 Â Â Â const name = (currentEmp.nameEn || currentEmp.nameAr || 'contact').replace(/[^\w\-]+/g,'_');

 Â Â Â a.href = URL.createObjectURL(blob);

 Â Â  a.download = `${name}.vcf`;

 Â Â Â document.body.appendChild(a); a.click(); a.remove();

 Â Â Â URL.revokeObjectURL(a.href);

 Â }



 Â // QR modal helpers

 Â const modal = $('qrModal');

 Â let qrObj = null;

 Â function openQr(){

 Â Â  modal.style.display = 'flex';

 Â Â Â const url = location.href; // current URL with ?id=

 Â Â Â const target = $('qrcode');

 Â Â Â target.innerHTML = '';

 Â Â Â qrObj = new QRCode(target, { text: url, width: 220, height: 220, correctLevel: QRCode.CorrectLevel.M });

 Â }

 Â function closeQr(){ modal.style.display = 'none'; $('qrcode').innerHTML=''; qrObj=null; }



 Â async function copyLink(){

 Â Â Â try{ await navigator.clipbo

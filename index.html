<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Digital Business Card</title>
<meta name="robots" content="noindex,nofollow,noarchive">

<style>
  :root{
    --ink:#0b1220; --muted:#5c6470; --line:#e7e9ee; --panel:#fff;
    --bg:#f6f8ff; --accent:#3b82f6; --accent-2:#60a5fa; --accent-3:#1d4ed8;
    --wave-1:#e8f0ff; --wave-2:#dbeafe; --btn:#0ea5e9;
  }
  /* THEMES */
  .theme-blue{ --accent:#3b82f6; --accent-2:#60a5fa; --accent-3:#1d4ed8; --wave-1:#e8f0ff; --wave-2:#dbeafe; --btn:#0ea5e9;}
  .theme-green{ --accent:#10b981; --accent-2:#34d399; --accent-3:#059669; --wave-1:#e7f8f2; --wave-2:#d1fae5; --btn:#0ea5e9;}
  .theme-orange{ --accent:#f59e0b; --accent-2:#fbbf24; --accent-3:#d97706; --wave-1:#fff4e5; --wave-2:#ffedd5; --btn:#0ea5e9;}

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,"Dubai","Cairo",sans-serif;
    background: radial-gradient(1200px 1200px at -10% -10%, var(--wave-1) 0, transparent 60%),
                radial-gradient(800px 800px at 110% 0%, var(--wave-2) 0, transparent 50%),
                linear-gradient(180deg,#fafcff,#f4f7ff);
    color:var(--ink);
  }
  .wrap{max-width:430px;margin:0 auto;padding:18px}

  /* Phone chrome */
  .phone{
    position:relative;background:var(--panel);border:1px solid var(--line);
    border-radius:28px; overflow:hidden; box-shadow:0 18px 40px rgba(11,18,32,.10);
  }
  .statusbar{height:12px;background:linear-gradient(180deg,rgba(0,0,0,.06),transparent)}
  .hero{
    position:relative;padding:22px 18px 90px;border-bottom:1px solid var(--line);
    background:
      radial-gradient(1000px 300px at 0% 0%, var(--wave-1), transparent 60%),
      radial-gradient(1000px 300px at 100% 0%, var(--wave-2), transparent 60%),
      linear-gradient(180deg,#fff, #f6f8ff 70%, #eef3ff);
  }
  /* curved waves */
  .hero:after, .hero:before{
    content:""; position:absolute; inset:auto -20% -1px -20%; height:120px;
    background: radial-gradient(60% 120px at 0% 100%, var(--accent-2), transparent 60%),
                radial-gradient(60% 120px at 100% 100%, var(--accent), transparent 60%);
    opacity:.15; transform:skewY(-4deg);
  }

  /* Tabs */
  .tabs{
    display:flex; gap:8px; justify-content:space-between;
    position:absolute; left:14px; right:14px; bottom:10px;
    background:#fff; border:1px solid var(--line); border-radius:14px; padding:8px;
    box-shadow:0 10px 24px rgba(11,18,32,.08);
  }
  .tab{flex:1; display:flex; flex-direction:column; align-items:center;
       gap:6px; padding:8px 4px; border-radius:10px; text-decoration:none; color:var(--ink); font-size:11px}
  .tab svg{width:18px;height:18px;opacity:.9}
  .tab:hover{background:#f8fafc}
  .tab.disabled{opacity:.45; pointer-events:none}

  /* Card */
  .card{
    padding:16px; margin:12px 12px 90px; border:1px solid var(--line);
    border-radius:18px; background:linear-gradient(180deg,#ffffff, #f9fbff);
  }
  .top{
    display:flex; gap:12px; align-items:center;
  }
  .avatar{
    width:68px;height:68px;border-radius:16px; overflow:hidden; border:1px solid var(--line);
    background:#eef2ff; flex:0 0 auto;
  }
  .avatar img{width:100%;height:100%;object-fit:cover}
  .title{font-size:18px;font-weight:800;margin:0}
  .subtitle{color:var(--muted);margin:2px 0 8px;font-weight:600}
  .company{font-weight:800;margin:4px 0}
  .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#f8fafc; font-size:12px}

  .list{margin:14px 0 0; display:grid; gap:8px}
  .row{
    display:flex; gap:10px; align-items:center; padding:10px 12px; border:1px solid var(--line);
    border-radius:12px; background:#fff;
  }
  .row strong{font-weight:700}
  .row a{text-decoration:none; color:var(--accent-3)}
  .row svg{width:18px;height:18px; opacity:.85}

  .social{display:flex; gap:8px; margin-top:10px; flex-wrap:wrap}
  .sbtn{display:inline-flex;align-items:center;gap:8px;border:1px solid var(--line);
        padding:8px 10px;border-radius:10px;background:#fff;text-decoration:none;color:var(--ink); font-size:12px}
  .sbtn svg{width:16px;height:16px}

  /* bottom action bar */
  .dock{
    position:sticky; bottom:0; padding:12px;
  }
  .dock-inner{
    display:flex; gap:10px; background:#fff; border:1px solid var(--line); border-radius:14px; padding:8px;
    box-shadow:0 8px 24px rgba(11,18,32,.08);
  }
  .cta{flex:1; display:flex; align-items:center; justify-content:center; gap:8px;
       padding:12px; border-radius:10px; text-decoration:none; color:#fff; font-weight:800;
       background:linear-gradient(180deg, var(--accent), var(--accent-3));}
  .cta.secondary{background:linear-gradient(180deg,#22c55e,#16a34a)}
  .cta svg{width:18px;height:18px;filter:drop-shadow(0 1px 0 rgba(0,0,0,.15))}
  .note{font-size:11px;color:var(--muted);text-align:center;margin-top:8px}
</style>
</head>

<body class="theme-blue">
  <div class="wrap">
    <div class="phone">
      <div class="statusbar"></div>

      <!-- HERO -->
      <div class="hero">
        <div class="top">
          <div class="avatar"><img id="avatar" alt=""></div>
          <div>
            <h1 class="title" id="name">اسم الموظف</h1>
            <div class="subtitle" id="title">المسمى الوظيفي</div>
            <div class="pill"><svg viewBox="0 0 24 24" fill="none"><path d="M3 7h18M3 12h18M3 17h18" stroke="currentColor" stroke-width="2"/></svg><span id="company">اسم الجهة</span></div>
          </div>
        </div>

        <!-- TABS -->
        <nav class="tabs">
          <a class="tab" id="tab-basic" href="#basic"><svg viewBox="0 0 24 24"><path d="M12 12a5 5 0 1 0 0-10 5 5 0 0 0 0 10Zm-8 9a8 8 0 1 1 16 0v1H4v-1Z" fill="currentColor"/></svg><span>Basic Info</span></a>
          <a class="tab" id="tab-services" target="_blank"><svg viewBox="0 0 24 24"><path d="M4 7h16v4H4V7Zm0 6h10v4H4v-4Z" fill="currentColor"/></svg><span>Service</span></a>
          <a class="tab" id="tab-gallery" target="_blank"><svg viewBox="0 0 24 24"><path d="M21 19H3V5h18v14Zm-2-4-4-5-5 6-3-4-2 3v2h14v-2Z" fill="currentColor"/></svg><span>Gallery</span></a>
          <a class="tab" id="tab-payment" target="_blank"><svg viewBox="0 0 24 24"><path d="M3 7h18v10H3V7Zm0 3h18M6 15h6" stroke="currentColor" stroke-width="2" fill="none"/></svg><span>Payment</span></a>
        </nav>
      </div>

      <!-- CONTENT CARD -->
      <div class="card" id="basic">
        <div class="row"><svg viewBox="0 0 24 24"><path d="M3 5h18v14H3V5Zm2 2v10h14V7H5Z" fill="currentColor"/></svg>
          <div><strong id="dept">القسم</strong><div style="font-size:12px;color:var(--muted)" id="address">العنوان</div></div>
        </div>
        <div class="row"><svg viewBox="0 0 24 24"><path d="M6 19V5l12 7-12 7Z" fill="currentColor"/></svg>
          <a id="website" href="#" target="_blank" rel="noopener">example.com</a>
        </div>
        <div class="row"><svg viewBox="0 0 24 24"><path d="M22 16.9v3a2 2 0 0 1-2.2 2 19.9 19.9 0 0 1-8.6-3.1A19.5 19.5 0 0 1 3.2 9.8 19.9 19.9 0 0 1 .1 1.2 2 2 0 0 1 2.1-1h3a2 2 0 0 1 2 1.7c.1 1 .4 2 .7 2.9a2 2 0 0 1-.5 2.1L6.1 7.9a16 16 0 0 0 6 6l1.1-1.1a2 2 0 0 1 2.1-.4c.9.3 1.9.5 2.9.7A2 2 0 0 1 22 16.9Z" fill="currentColor"/></svg>
          <a id="phone" href="#">+971 00 000 0000</a>
        </div>
        <div class="row"><svg viewBox="0 0 24 24"><path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm0 0 8 7 8-7" stroke="currentColor" stroke-width="2" fill="none"/></svg>
          <a id="email" href="#">someone@example.com</a>
        </div>

        <div class="social" id="social">
          <!-- social buttons will inject if available -->
        </div>
      </div>

      <!-- DOCK -->
      <div class="dock">
        <div class="dock-inner">
          <a class="cta" id="cta-call" href="#"><svg viewBox="0 0 24 24"><path d="M22 16.9v3a2 2 0 0 1-2.2 2 19.9 19.9 0 0 1-8.6-3.1A19.5 19.5 0 0 1 3.2 9.8 19.9 19.9 0 0 1 .1 1.2 2 2 0 0 1 2.1-1h3a2 2 0 0 1 2 1.7c.1 1 .4 2 .7 2.9a2 2 0 0 1-.5 2.1L6.1 7.9a16 16 0 0 0 6 6l1.1-1.1a2 2 0 0 1 2.1-.4c.9.3 1.9.5 2.9.7A2 2 0 0 1 22 16.9Z" fill="#fff"/></svg>CALL</a>
          <a class="cta secondary" id="cta-wa" href="#" target="_blank" rel="noopener"><svg viewBox="0 0 24 24"><path d="M.5 12A11.5 11.5 0 1 1 21 20.6L24 24l-3.4-1a11.5 11.5 0 0 1-20.1-11Z" fill="#fff"/></svg>WHATSAPP</a>
        </div>
        <div class="note">Tap the buttons to contact</div>
      </div>
    </div>
  </div>

<script>
  const qs = new URLSearchParams(location.search);
  const id = qs.get('id');
  const theme = (qs.get('theme')||'blue').toLowerCase();

  // apply theme class
  document.body.classList.remove('theme-blue','theme-green','theme-orange');
  document.body.classList.add(`theme-${['blue','green','orange'].includes(theme)?theme:'blue'}`);

  // lightweight helper
  const $ = id => document.getElementById(id);
  const safeSet = (id, val) => { const el=$(id); if(!el) return; if(el.tagName==='A') { el.textContent=val||'—'; } else { el.textContent=val||'—'; } };

  // Social button factory
  function makeSocial(label, href, svgPath){
    const a = document.createElement('a');
    a.className='sbtn'; a.href=href; a.target="_blank"; a.rel="noopener";
    a.innerHTML=`<svg viewBox="0 0 24 24"><path d="${svgPath}" fill="currentColor"/></svg>${label}`;
    return a;
  }

  // Fill UI
  function bind(emp){
    // basics
    safeSet('name', emp.nameAr || emp.nameEn);
    safeSet('title', emp.title);
    safeSet('company', emp.company || emp.org);
    safeSet('dept', emp.dept || '');
    safeSet('address', emp.addressAr || emp.addressEn || '');
    $('avatar').src = emp.photo || 'https://dummyimage.com/300x300/eee/aaa.jpg&text=Photo';
    $('avatar').alt = emp.nameEn || emp.nameAr || '';

    // links
    if(emp.website){ $('website').href = emp.website; $('website').textContent = (new URL(emp.website)).host; } else {$('website').remove();}
    if(emp.phone){ $('phone').href = `tel:${emp.phone}`; $('phone').textContent = emp.phone; }
    if(emp.email){ $('email').href = `mailto:${emp.email}`; $('email').textContent = emp.email; }

    // dock
    $('cta-call').href = emp.phone ? `tel:${emp.phone}` : '#';
    $('cta-wa').href = emp.whatsapp ? `https://wa.me/${emp.whatsapp.replace(/\D/g,'')}` :
                     (emp.phone ? `https://wa.me/${emp.phone.replace(/\D/g,'')}` : '#');

    // tabs (enable only if URL present)
    const tSvc=$('tab-services'), tGal=$('tab-gallery'), tPay=$('tab-payment');
    if(emp.servicesUrl){ tSvc.href=emp.servicesUrl; } else { tSvc.classList.add('disabled'); }
    if(emp.galleryUrl){ tGal.href=emp.galleryUrl; } else { tGal.classList.add('disabled'); }
    if(emp.paymentUrl){ tPay.href=emp.paymentUrl; } else { tPay.classList.add('disabled'); }

    // socials
    const box = $('social');
    const socials = [
      emp.linkedin && ['LinkedIn', emp.linkedin, 'M4 4h16v16H4z M7 7h3v3H7V7zm0 5h3v6H7v-6zm5 0h3v3h-3v-3zm0-5h3v3h-3V7z'],
      emp.instagram && ['Instagram', emp.instagram, 'M7 2h10a5 5 0 0 1 5 5v10a5 5 0 0 1-5 5H7a5 5 0 0 1-5-5V7a5 5 0 0 1 5-5zm5 5a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm6-1a1 1 0 1 0 0 2 1 1 0 0 0 0-2z'],
      emp.twitter && ['X', emp.twitter, 'M3 3h5l5 7 5-7h5l-8 10 8 8h-5l-5-7-5 7H3l8-8L3 3z'],
      emp.facebook && ['Facebook', emp.facebook, 'M14 3h4v4h-3v3h3v4h-3v7h-4v-7H8v-4h3V7a4 4 0 0 1 3-4z']
    ].filter(Boolean);

    socials.forEach(([label, href, path]) => box.appendChild(makeSocial(label, href, path)));
  }

  // Load data: employees/<id>.json or demo fallback
  const dataPath = id ? `employees/${id}.json?v=${Date.now()}` : null;

  const demo = {
    nameAr:"شيخار جاين", nameEn:"Shekhar Jain", title:"Managing Director",
    company:"Pacewalk to digitize", dept:"Marketing & Design",
    addressAr:"برج 4، شارع في آي بي، زيراكبور", addressEn:"Flat 1113, Tower 4, VIP Road, Zirakpur",
    phone:"+91 73073 73074", whatsapp:"+91 73073 73074", email:"care@pacewalk.com",
    website:"https://www.pacewalk.com", photo:"https://dummyimage.com/600x600/f0f0f0/888.jpg&text=SJ",
    servicesUrl:"#", galleryUrl:"#", paymentUrl:"#",
    linkedin:"#", instagram:"#"
  };

  if(!dataPath){
    bind(demo);
  } else {
    fetch(dataPath).then(r => { if(!r.ok) throw 0; return r.json(); })
      .then(bind)
      .catch(() => bind(demo));
  }
</script>
</body>
</html>

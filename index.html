<!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Digital Business Card</title>
<meta name="robots" content="noindex,nofollow,noarchive" />
<style>
  :root{
    --ink:#ffffff;
    --muted:#e9e9ee;
    --accent:#9b34ff;
    --line:rgba(255,255,255,.25);
    --panel-2:rgba(0,0,0,.25);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,"Dubai","Cairo",sans-serif;
    color:var(--ink);
    /* fallback gradient (shows behind the image) */
    background:
      radial-gradient(1200px 800px at 10% -10%, #8a2be2 0, transparent 60%),
      radial-gradient(900px 700px at 110% 0%, #ff2d86 0, transparent 50%),
      linear-gradient(180deg,#3c0b5a,#8b2c7b 40%, #4b0f6b);
    background-size:cover;
    background-position:center;
  }
  /* readability overlay on top of body BG */
  .overlay{
    position:fixed; inset:0; pointer-events:none; z-index:0;
    background:
      radial-gradient(1200px 700px at 50% 0%, rgba(0,0,0,.25), transparent 60%),
      linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.60));
  }

  .wrap{position:relative; z-index:1; max-width:440px;margin:0 auto;padding:18px}
  .card{
    position:relative; overflow:hidden;
    border-radius:18px; padding:22px 18px 26px;
    backdrop-filter: blur(6px);
    background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.06));
    border:1px solid var(--panel-2);
    box-shadow: 0 20px 50px rgba(0,0,0,.35);
    /* template image is injected through this var */
    --template-bg:url(""); 
  }
  .card::before{
    content:""; position:absolute; inset:0; z-index:-1;
    background-image:var(--template-bg);
    background-size:cover; background-position:center; background-repeat:no-repeat;
    opacity:.65; /* stronger than before so it’s visible */
  }

  /* logo */
  .logo-ring{
    width:122px;height:122px;margin:6px auto 10px;border-radius:50%;
    display:grid; place-items:center;
    background:
      radial-gradient(circle at 30% 30%, rgba(255,255,255,.35), transparent 60%),
      conic-gradient(from 0deg, var(--accent), #ff4db1, var(--accent));
    padding:3px; box-shadow:0 10px 24px rgba(0,0,0,.35);
  }
  .logo{width:100%;height:100%;border-radius:50%; background:#fff; display:grid; place-items:center; overflow:hidden}
  .logo img{width:100%;height:100%;object-fit:contain}

  .name{ text-align:center; font-size:28px; line-height:1.1; font-weight:900; letter-spacing:.5px;
         text-transform:uppercase; margin:10px 8px 6px; text-shadow:0 2px 10px rgba(0,0,0,.35)}
  .designation{ text-align:center; font-weight:700; color:var(--muted); letter-spacing:.6px; margin-bottom:12px}

  .dash{margin:8px auto 14px; width:100%; height:1px; background-image: linear-gradient(90deg, var(--line) 45%, transparent 0); background-size:10px 1px}

  .list{display:grid; gap:9px}

  /* shorter buttons */
  .btn{
    display:flex; align-items:center; gap:12px;
    padding:10px 14px; border-radius:16px; border:1px solid var(--line);
    background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.05));
    text-decoration:none; color:var(--ink);
    box-shadow: inset 0 0 0 1px rgba(255,255,255,.04), 0 8px 22px rgba(0,0,0,.25);
    transition: transform .12s ease, box-shadow .12s ease, background .12s ease;
  }
  .ico{ width:36px; height:36px; border-radius:10px; display:grid; place-items:center; flex:0 0 36px;
        background: radial-gradient(circle at 30% 30%, rgba(255,255,255,.2), rgba(255,255,255,.06));
        border:1px solid var(--line)}
  .ico svg{width:18px;height:18px}
  .vline{width:1px; height:24px; background:var(--line)}
  .meta .lbl{font-size:12px; color:var(--muted); font-weight:700; letter-spacing:.4px}
  .meta .val{font-weight:800; font-size:15px; line-height:1.25; word-break:break-word}

  .note{margin-top:12px; text-align:center; font-size:12px; color:var(--muted)}
  [dir="ltr"] .vline{order:2} [dir="ltr"] .ico{order:1} [dir="ltr"] .meta{order:3}
</style>
</head>
<body>
  <div class="overlay"></div>

  <div class="wrap">
    <div class="card" id="card">
      <div class="logo-ring"><div class="logo"><img id="logoImg" alt="Logo"></div></div>
      <div class="name" id="name">YOUR NAME</div>
      <div class="designation" id="designation">YOUR DESIGNATION</div>
      <div class="dash"></div>

      <div class="list">
        <a class="btn" id="btnPhone" href="#">
          <div class="ico" aria-hidden="true">
            <svg viewBox="0 0 24 24" fill="none"><path d="M22 16.9v3a2 2 0 0 1-2.2 2 19.9 19.9 0 0 1-8.6-3.1A19.5 19.5 0 0 1 3.2 9.8 19.9 19.9 0 0 1 .1 1.2 2 2 0 0 1 2.1-1h3a2 2 0 0 1 2 1.7c.1 1 .4 2 .7 2.9a2 2 0 0 1-.5 2.1L6.1 7.9a16 16 0 0 0 6 6l1.1-1.1a2 2 0 0 1 2.1-.4c.9.3 1.9.5 2.9.7A2 2 0 0 1 22 16.9Z" fill="currentColor"/></svg>
          </div>
          <div class="vline" aria-hidden="true"></div>
          <div class="meta">
            <div class="lbl">PHONE</div>
            <div class="val" id="phoneText">+971 XX XXX XXXX</div>
          </div>
        </a>

        <a class="btn" id="btnSite" href="#" target="_blank" rel="noopener">
          <div class="ico"><svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 1 1 0 18A9 9 0 0 1 12 3Zm6.5 7h-3.1c-.2-2-1-3.8-2.4-5.2A7 7 0 0 1 18.5 10Zm-5.4 0H11V5a8 8 0 0 1 1.1 5ZM11 14v5c-1.9-.6-3.3-2.4-3.6-5H11Zm2 0h3.6c-.3 2.6-1.7 4.4-3.6 5v-5Zm-2 0H7.4c.3-2.6 1.7-4.4 3.6-5v5Z" fill="currentColor"/></svg></div>
          <div class="vline"></div>
          <div class="meta"><div class="lbl">WEBSITE</div><div class="val" id="siteText">example.com</div></div>
        </a>

        <a class="btn" id="btnEmail" href="#">
          <div class="ico"><svg viewBox="0 0 24 24"><path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm0 0 8 7 8-7" stroke="currentColor" stroke-width="2" fill="none"/></svg></div>
          <div class="vline"></div>
          <div class="meta"><div class="lbl">EMAIL</div><div class="val" id="emailText">info@example.com</div></div>
        </a>

        <a class="btn" id="btnMap" href="#" target="_blank" rel="noopener">
          <div class="ico"><svg viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 5.25 7 13 7 13s7-7.75 7-13a7 7 0 0 0-7-7Zm0 9.5a2.5 2.5 0 1 1 0-5 2.5 2.5 0 0 1 0 5Z" fill="currentColor"/></svg></div>
          <div class="vline"></div>
          <div class="meta"><div class="lbl">ADDRESS</div><div class="val" id="addrText">Your Address Here, City, State</div></div>
        </a>
      </div>

      <div class="note">Tap any row to take action (Call / Visit / Email / Open Map)</div>
    </div>
  </div>

<script>
  const qs = new URLSearchParams(location.search);
  const id      = qs.get('id');
  const accent  = qs.get('accent');
  const dirParam= qs.get('dir');
  if (accent) document.documentElement.style.setProperty('--accent', accent);
  if (dirParam === 'ltr' || dirParam === 'rtl') document.documentElement.setAttribute('dir', dirParam);

  // ---- Provide your own hosted URLs here or via ?template=&screen=
  const DEFAULT_TEMPLATE = 'https://i.imgur.com/6eJ4K5S.png'; // blue wave (Picture-1)
  const DEFAULT_SCREEN   = 'https://cdnp.flypgs.com/files/Sehirler-long-tail/Sharjah/sharjah-gezi-rehberi.jpg?q=80&w=1600&auto=format&fit=crop'; // skyline (Picture-2)

  const templateURL = qs.get('template') || DEFAULT_TEMPLATE;
  const screenURL   = qs.get('screen')   || qs.get('bg') || DEFAULT_SCREEN;

  // 1) Screen/background of the page
  document.body.style.backgroundImage = `url("${screenURL}")`;

  // 2) Template background on the card only
  const card = document.getElementById('card');
  card.style.setProperty('--template-bg', `url("${templateURL}")`);

  const $ = (id)=>document.getElementById(id);
  const setText = (id, val)=>{ const el=$(id); if(el) el.textContent = val || '—'; };

  function setSiteLink(el, href){
    if(!href){ el.removeAttribute('href'); el.href='#'; return; }
    try{ const u = new URL(href); el.href = href; $('siteText').textContent = u.host; }
    catch{ el.href = href; $('siteText').textContent = href; }
  }
  function mapHrefFrom(emp){
    if (typeof emp.lat === 'number' && typeof emp.lng === 'number')
      return `https://www.google.com/maps/search/?api=1&query=${emp.lat},${emp.lng}`;
    if (emp.mapUrl) return emp.mapUrl;
    const q = encodeURIComponent(emp.addressEn || emp.addressAr || '');
    return `https://www.google.com/maps/search/?api=1&query=${q}`;
  }

  function bind(emp){
    $('logoImg').src = emp.logoUrl || 'https://dummyimage.com/400x400/ffffff/cccccc&text=Logo';
    $('logoImg').onerror = () => { $('logoImg').src='https://dummyimage.com/400x400/ffffff/cccccc&text=Logo'; };

    setText('name', emp.nameEn || emp.nameAr || 'YOUR NAME');
    setText('designation', emp.title || 'YOUR DESIGNATION');
    setText('phoneText', emp.phone1 || emp.phone || '+971 XX XXX XXXX');
    setText('emailText', emp.email || 'info@example.com');
    setText('addrText', emp.addressEn || emp.addressAr || 'Your Address Here');

    const phone = emp.phone1 || emp.phone;
    $('btnPhone').href = phone ? `tel:${phone}` : '#';
    $('btnEmail').href = emp.email ? `mailto:${emp.email}` : '#';
    setSiteLink($('btnSite'), emp.site || emp.website || '#');
    $('btnMap').href = mapHrefFrom(emp);
  }

  const dataPath = id ? `employees/${id}.json?v=${Date.now()}` : null;
  const demo = {
    nameEn:"YOUR NAME", title:"YOUR DESIGNATION",
    phone:"+971 50 000 0000", email:"info@website.com",
    site:"https://www.website.com",
    addressEn:"Your Address Here, City, State, Pincode",
    logoUrl:"https://dummyimage.com/600x600/ffffff/cccccc&text=LOGO"
  };
  if(!dataPath){ bind(demo); }
  else{
    fetch(dataPath).then(r=>{ if(!r.ok) throw 0; return r.json(); })
      .then(bind).catch(()=> bind(demo));
  }
</script>
</body>
</html>
